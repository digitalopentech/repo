Passos para Criar Tabela e Inserir Dados
Certifique-se de que o Apache Pinot está em execução.

Verifique se todos os componentes do Pinot (controller, broker, server, e zookeeper) estão rodando.
Criar o Esquema

Crie um arquivo chamado schema.json com o seguinte conteúdo:

json
Copiar código
{
  "schemaName": "exampleSchema",
  "dimensionFieldSpecs": [
    {
      "name": "customerId",
      "dataType": "STRING"
    },
    {
      "name": "orderId",
      "dataType": "STRING"
    }
  ],
  "metricFieldSpecs": [
    {
      "name": "amount",
      "dataType": "DOUBLE"
    }
  ],
  "dateTimeFieldSpecs": [
    {
      "name": "orderDate",
      "dataType": "LONG",
      "format": "1:MILLISECONDS:EPOCH",
      "granularity": "1:MILLISECONDS"
    }
  ]
}
Criar a Configuração da Tabela
Crie um arquivo chamado tableConfig.json com o seguinte conteúdo:

json
Copiar código
{
  "tableName": "exampleSchema_OFFLINE",
  "tableType": "OFFLINE",
  "segmentsConfig": {
    "timeColumnName": "orderDate",
    "schemaName": "exampleSchema",
    "replication": "1"
  },
  "tenants": {
    "broker": "DefaultTenant",
    "server": "DefaultTenant"
  },
  "tableIndexConfig": {
    "loadMode": "MMAP"
  },
  "ingestionConfig": {
    "batchIngestionConfig": {
      "segmentIngestionType": "APPEND",
      "segmentIngestionFrequency": "DAILY"
    }
  },
  "metadata": {}
}
Adicionar o Esquema e a Configuração da Tabela via API HTTP
Use os seguintes comandos curl para adicionar o esquema e a configuração da tabela:

Adicionar o Esquema:

sh
Copiar código
curl -X POST -H "Content-Type: application/json" -d @schema.json "http://localhost:9000/schemas"
Adicionar a Configuração da Tabela:

sh
Copiar código
curl -X POST -H "Content-Type: application/json" -d @tableConfig.json "http://localhost:9000/tables"
Ingestão de Dados
Prepare um arquivo JSON com os dados que você deseja inserir, por exemplo, data.json:

json
Copiar código
[
  {
    "customerId": "123",
    "orderId": "abc",
    "amount": 100.5,
    "orderDate": 1625011200000
  },
  {
    "customerId": "124",
    "orderId": "def",
    "amount": 200.75,
    "orderDate": 1625097600000
  },
  {
    "customerId": "125",
    "orderId": "ghi",
    "amount": 300.25,
    "orderDate": 1625184000000
  }
]
Use o comando curl para inserir os dados:

sh
Copiar código
curl -X POST -H "Content-Type: application/json" -d @data.json "http://localhost:9000/ingestFromFile?tableName=exampleSchema_OFFLINE"
Verificação Final
Verifique se os dados foram inseridos corretamente:
Acesse a interface de consulta do Pinot através do navegador em http://localhost:9000/query e execute a consulta:

sql
Copiar código
SELECT * FROM exampleSchema_OFFLINE LIMIT 10


curl -X POST -H "Content-Type: application/json" -d @data.json "http://localhost:9000/ingestFromFile?tableName=exampleSchema_OFFLINE&batchConfigMapStr=default.segment.push.frequency=hourly"

curl -X POST -H "Content-Type: application/json" -d @data.json "http://localhost:9000/ingestFromFile?tableName=exampleSchema_OFFLINE&batchConfigMapStr=default.segment.push.frequency=hourly"

curl -X POST -F 'file=@/path/to/data.json' -H "Content-Type: multipart/form-data" "http://localhost:9000/ingestFromFile?tableNameWithType=exampleSchema_OFFLINE&batchConfigMapStr={\"inputFormat\":\"json\"}"


